<!DOCTYPE html>
<html>
<head>
  <title>Web3 Wallet Confirmation</title>
</head>
<body>
  <button id="sendTx">Send Transaction</button>
  <p id="message"></p>

  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <script>
    const btn = document.getElementById("sendTx");
    const msg = document.getElementById("message");

    btn.onclick = async () => {
      if (!window.ethereum) {
        msg.innerText = "MetaMask not detected!";
        return;
      }

      const web3 = new Web3(window.ethereum);
      const accounts = await ethereum.request({ method: 'eth_requestAccounts' });

      const from = accounts[0];
      const to = "0x123abc..."; // Replace with real address
      const value = web3.utils.toWei("0.01", "ether");

      // Show message while MetaMask is open
      msg.innerText = "Waiting for wallet confirmationâ€¦";

      try {
        const tx = await web3.eth.sendTransaction({ from, to, value });
        msg.innerText = "Transaction confirmed!";
      } catch (err) {
        msg.innerText = "Transaction cancelled or failed.";
      }
    };
  </script>
</body>
</html>
